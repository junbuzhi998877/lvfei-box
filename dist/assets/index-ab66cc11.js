import{r as m,c as $e,L as K,u as ee,e as De,f as Te,h as J,R as ye,H as Ae}from"./react-18239860.js";import{F as re,M as W,B as I,A as Oe,C as ue,S as Ne,a as Re,T as se,b as te,c as Ee,d as Y,e as le,f as be,U as Be,g as oe,E as ze,D as Pe,h as qe,i as fe,j as Ue,k as Ce,l as Le,m as Ge,n as r,o as pe,p as me,R as A,Q as je,q as Ie,r as Se,I as ge,P as _e,s as Me,t as Qe,u as We,v as He,L as X}from"./antd-92981061.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))n(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const f of a.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function h(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(c){if(c.ep)return;c.ep=!0;const a=h(c);fetch(c.href,a)}})();var ke={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=m,Je=Symbol.for("react.element"),Xe=Symbol.for("react.fragment"),Ke=Object.prototype.hasOwnProperty,Ye=Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ze={key:!0,ref:!0,__self:!0,__source:!0};function Fe(g,s,h){var n,c={},a=null,f=null;h!==void 0&&(a=""+h),s.key!==void 0&&(a=""+s.key),s.ref!==void 0&&(f=s.ref);for(n in s)Ke.call(s,n)&&!Ze.hasOwnProperty(n)&&(c[n]=s[n]);if(g&&g.defaultProps)for(n in s=g.defaultProps,s)c[n]===void 0&&(c[n]=s[n]);return{$$typeof:Je,type:g,key:a,ref:f,props:c,_owner:Ye.current}}ae.Fragment=Xe;ae.jsx=Fe;ae.jsxs=Fe;ke.exports=ae;var e=ke.exports,xe={},ve=$e;xe.createRoot=ve.createRoot,xe.hydrateRoot=ve.hydrateRoot;const es=()=>{const g=[{key:"pdf",title:"PDFæ ¼å¼è½¬æ¢",icon:"PDF",iconClass:"pdf",description:"è½»æ¾è½¬æ¢PDFè‡³Wordã€Excelã€PPTç­‰æ ¼å¼ï¼Œæˆ–å°†å…¶ä»–æ ¼å¼è½¬ä¸ºPDFã€‚",path:"/pdf"},{key:"image",title:"å›¾ç‰‡å‹ç¼©å·¥å…·",icon:"IMG",iconClass:"image",description:"é«˜è´¨é‡å›¾ç‰‡å‹ç¼©ï¼Œå‡å°æ–‡ä»¶ä½“ç§¯ä½†ä¿æŒè§†è§‰æ•ˆæœã€‚æ‰¹é‡å¤„ç†æ›´é«˜æ•ˆã€‚",path:"/image"},{key:"qrcode",title:"äºŒç»´ç ç”Ÿæˆ",icon:"QR",iconClass:"qrcode",description:"å¿«é€Ÿç”Ÿæˆè‡ªå®šä¹‰äºŒç»´ç ï¼Œæ”¯æŒå¤šç§æ ¼å¼å’Œæ ·å¼ã€‚",path:"/qrcode"}];return e.jsxs("div",{className:"home-container",children:[e.jsxs("section",{className:"hero-section",children:[e.jsx("h1",{children:"å¤šåŠŸèƒ½å·¥å…·ç®±"}),e.jsx("p",{className:"subtitle",children:"ç®€å•é«˜æ•ˆçš„æ¡Œé¢å®ç”¨å·¥å…·é›†"})]}),e.jsx("section",{className:"tools-section",children:e.jsx("div",{className:"tools-grid",children:g.map(s=>e.jsxs("div",{className:"tool-card",children:[e.jsx("div",{className:`tool-icon ${s.iconClass}`,children:s.icon}),e.jsx("h2",{className:"tool-title",children:s.title}),e.jsx("p",{className:"tool-description",children:s.description}),e.jsx(K,{to:s.path,className:"primary-button",children:"å¼€å§‹ä½¿ç”¨"})]},s.key))})}),e.jsxs("section",{className:"features-section",children:[e.jsx("h2",{children:"ä¸ºä»€ä¹ˆé€‰æ‹©æˆ‘ä»¬çš„å·¥å…·ç®±ï¼Ÿ"}),e.jsxs("div",{className:"features-grid",children:[e.jsxs("div",{className:"feature-item",children:[e.jsx("h3",{children:"ğŸš€ é«˜æ•ˆå¤„ç†"}),e.jsx("p",{children:"æ‰€æœ‰å·¥å…·å‡é‡‡ç”¨ä¼˜åŒ–ç®—æ³•ï¼Œç¡®ä¿å¿«é€Ÿå¤„ç†æ–‡ä»¶"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h3",{children:"ğŸ”’ æœ¬åœ°è¿è¡Œ"}),e.jsx("p",{children:"æ‰€æœ‰å¤„ç†åœ¨æœ¬åœ°å®Œæˆï¼Œä¿æŠ¤æ‚¨çš„æ•°æ®å®‰å…¨"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx("h3",{children:"ğŸ”„ æ‰¹é‡å¤„ç†"}),e.jsx("p",{children:"æ”¯æŒå¤šæ–‡ä»¶æ‰¹é‡æ“ä½œï¼Œæé«˜å·¥ä½œæ•ˆç‡"})]})]})]})]})},{Title:ss,Text:ts}=se,{Option:ce}=Ne,rs=({visible:g,onClose:s,onConvert:h,pdfPreview:n,pdfFileName:c,isConverting:a,isInvoice:f})=>{const[N]=re.useForm(),R=()=>{N.validateFields().then(O=>{h({conformance:O.conformance,preserveSignatures:O.preserveSignatures,isInvoice:f})})};return e.jsxs(W,{title:null,open:g,onCancel:s,width:800,className:"preview-modal",footer:[e.jsx(I,{onClick:s,className:"cancel-button",disabled:a,children:"å–æ¶ˆ"},"back"),e.jsx(I,{type:"primary",onClick:R,loading:a,className:"convert-button",children:"å¼€å§‹è½¬æ¢"},"submit")],maskClosable:!a,closable:!a,children:[e.jsx("div",{className:"preview-header",children:e.jsx(ss,{level:4,children:"PDFè½¬OFDè®¾ç½®"})}),f&&e.jsx(Oe,{message:"æ£€æµ‹åˆ°å‘ç¥¨æ–‡æ¡£",description:"ç³»ç»Ÿæ£€æµ‹åˆ°è¯¥PDFå¯èƒ½æ˜¯å‘ç¥¨æ–‡æ¡£ï¼Œå°†ä½¿ç”¨é’ˆå¯¹å‘ç¥¨ä¼˜åŒ–çš„è½¬æ¢æµç¨‹ã€‚",type:"info",icon:e.jsx(ue,{}),className:"invoice-alert"}),e.jsxs("div",{className:"preview-content",children:[e.jsx("div",{className:"file-info",children:e.jsx(ts,{strong:!0,className:"file-name",children:c})}),n&&e.jsx("div",{className:"pdf-preview",children:e.jsx("iframe",{src:n,title:"PDF Preview",className:"preview-frame"})}),e.jsxs(re,{form:N,layout:"vertical",className:"conversion-form",initialValues:{conformance:"standard",preserveSignatures:!1},children:[e.jsx(re.Item,{label:"ä¸€è‡´æ€§çº§åˆ«",name:"conformance",className:"form-item",children:e.jsxs(Ne,{children:[e.jsx(ce,{value:"basic",children:"åŸºç¡€çº§"}),e.jsx(ce,{value:"standard",children:"æ ‡å‡†çº§"}),e.jsx(ce,{value:"enhanced",children:"å¢å¼ºçº§"})]})}),e.jsx(re.Item,{name:"preserveSignatures",valuePropName:"checked",className:"form-item",children:e.jsx(Re,{children:"ä¿ç•™æ•°å­—ç­¾å"})})]})]})]})};const{Title:ne,Text:de,Paragraph:ys}=se,{Dragger:ns}=fe,is=()=>{var B,U;const g=ee(),[s,h]=m.useState("docx"),[n,c]=m.useState([]),[a,f]=m.useState(!1),[N,R]=m.useState(null),[O,P]=m.useState(!1),[u,$]=m.useState({pdfFile:null,outputDir:""}),[w,k]=m.useState(0),[C,G]=m.useState("pdfToOther"),[o,v]=m.useState(!1),x=[{key:"docx",title:"Word",description:".pdf â†’ .docx",icon:e.jsx(Ue,{style:{fontSize:28,color:"#ffffff"}}),color:"#fa3c52"},{key:"xlsx",title:"Excel",description:".pdf â†’ .xlsx",icon:e.jsx(Ce,{style:{fontSize:28,color:"#ffffff"}}),color:"#107c41"},{key:"pptx",title:"PowerPoint",description:".pdf â†’ .pptx",icon:e.jsx(Le,{style:{fontSize:28,color:"#ffffff"}}),color:"#d04423"},{key:"jpg",title:"å›¾ç‰‡",description:".pdf â†’ .jpg/.png",icon:e.jsx(Ge,{style:{fontSize:28,color:"#ffffff"}}),color:"#38b6ff"},{key:"ofd",title:"OFD",description:".pdf â†’ .ofd",icon:e.jsx(le,{style:{fontSize:28,color:"#ffffff"}}),color:"#6a0dad"}],y=async t=>{if(console.log("å¤„ç†æ–‡ä»¶ä¸Šä¼ :",t.name),!t.name.toLowerCase().endsWith(".pdf"))return r.error("è¯·ä¸Šä¼ PDFæ ¼å¼çš„æ–‡ä»¶"),!1;if(t.size>20*1024*1024)return r.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡20MB"),!1;try{const p=await E(t),S={uid:t.name+Date.now(),name:t.name,status:"pending",progress:0,originalSize:t.size,preview:p};if(window.electronAPI){const T=await window.electronAPI.uploadImage({dataUrl:p,fileName:t.name});if(T.success){const H={...S,path:T.filePath};if(c(_=>[..._,H]),r.success(`${t.name} ä¸Šä¼ æˆåŠŸ`),s==="ofd")try{v(!0),await i(H)}finally{v(!1)}}else throw new Error(T.error||"ä¸Šä¼ å¤±è´¥")}else throw new Error("ç³»ç»ŸåŠŸèƒ½ä¸å¯ç”¨")}catch(p){r.error(`ä¸Šä¼ å¤±è´¥: ${p.message}`)}return!1},i=async t=>{if(!(!window.electronAPI||!window.electronAPI.detectInvoice||!t.path))try{const p=await window.electronAPI.detectInvoice({pdfPath:t.path});p.success&&p.isInvoice&&(r.info("æ£€æµ‹åˆ°ä¸Šä¼ æ–‡ä»¶å¯èƒ½æ˜¯å‘ç¥¨ï¼Œå°†ä½¿ç”¨ä¸“ç”¨å¤„ç†æµç¨‹"),$(S=>({...S,isInvoice:!0})))}catch(p){console.error("å‘ç¥¨æ£€æµ‹å¤±è´¥:",p)}},D=async()=>{if(n.length===0){r.warning("è¯·å…ˆæ·»åŠ PDFæ–‡ä»¶");return}f(!0);try{if(!window.electronAPI)throw new Error("ç³»ç»ŸåŠŸèƒ½ä¸å¯ç”¨");const t=await window.electronAPI.selectSavePath({defaultName:"é€‰æ‹©ä¿å­˜ç›®å½•"});if(!t.success||!t.filePath){f(!1);return}const p=t.filePath;if(s==="ofd"){P(!0),$({pdfFile:n[0],outputDir:p,isInvoice:u.isInvoice}),f(!1);return}for(const S of n)if(S.status!=="success")try{c(M=>M.map(L=>L.uid===S.uid?{...L,status:"processing",progress:10}:L));const T=S.name.replace(".pdf",""),H=`${p}/${T}.${s}`,_=await window.electronAPI.convertPDF({inputPath:S.path,outputPath:H,type:s,options:{quality:100,dpi:300,preserveFormatting:!0}});if(c(M=>M.map(L=>L.uid===S.uid?{...L,status:_.success?"success":"error",progress:_.success?100:0,error:_.error,outputPath:_.success?H:void 0}:L)),_.success)r.success(`${S.name} è½¬æ¢æˆåŠŸ`);else throw new Error(_.error||"è½¬æ¢å¤±è´¥")}catch(T){console.error(`å¤„ç†æ–‡ä»¶ ${S.name} æ—¶å‡ºé”™:`,T),r.error(`${S.name} å¤„ç†å¤±è´¥: ${T.message}`)}r.success("æ‰¹é‡è½¬æ¢å®Œæˆï¼")}catch(t){console.error("æ‰¹é‡å¤„ç†é”™è¯¯:",t),r.error(`æ‰¹é‡å¤„ç†å¤±è´¥: ${t.message}`)}finally{f(!1)}},Q=t=>{t>=0&&t<=2&&k(t)},q=()=>{w<2&&k(w+1)},E=t=>new Promise((p,S)=>{const T=new FileReader;T.onload=()=>p(T.result),T.onerror=()=>S(new Error("æ–‡ä»¶è¯»å–å¤±è´¥")),T.readAsDataURL(t)}),z=t=>{if(!t)return"æœªçŸ¥";const p=["B","KB","MB","GB"];let S=0,T=t;for(;T>=1024&&S<p.length-1;)T/=1024,S++;return`${T.toFixed(2)} ${p[S]}`},l=async t=>{if(!u.pdfFile||!u.outputDir){r.error("æ–‡ä»¶ä¿¡æ¯ä¸å®Œæ•´");return}$(p=>({...p,isConverting:!0}));try{const p=u.pdfFile,S=u.outputDir;c(L=>L.map(V=>V.uid===p.uid?{...V,status:"processing",progress:10}:V));const T=p.name.replace(".pdf",""),H=`${S}/${T}.ofd`;if(!window.electronAPI)throw new Error("ç³»ç»ŸåŠŸèƒ½ä¸å¯ç”¨");const _={...t,isInvoice:u.isInvoice||!1},M=await window.electronAPI.convertPDF({inputPath:p.path,outputPath:H,type:"ofd",options:_});if(c(L=>L.map(V=>V.uid===p.uid?{...V,status:M.success?"success":"error",progress:M.success?100:0,error:M.error,outputPath:M.success?H:void 0}:V)),M.success)r.success(`${p.name} è½¬æ¢æˆåŠŸ`),P(!1);else throw new Error(M.error||"è½¬æ¢å¤±è´¥")}catch(p){console.error("OFDè½¬æ¢é”™è¯¯:",p),r.error(`OFDè½¬æ¢å¤±è´¥: ${p.message}`)}finally{$(p=>({...p,isConverting:!1}))}},d=t=>{c(p=>p.filter(S=>S.uid!==t))},j=t=>{t?R(t):r.warning("æ— æ³•é¢„è§ˆè¯¥æ–‡ä»¶")},b=async()=>{r.info("æ­£åœ¨å¯åŠ¨å¤–éƒ¨PDFè½¬OFDå·¥å…·...");try{if(!window.electronAPI){r.error("Electron APIä¸å¯ç”¨");return}if(n.length>0&&n[0].path){const p=await window.electronAPI.launchExternalPdfApp({pdfPath:n[0].path});p.success?r.success("PDFè½¬OFDå·¥å…·å·²å¯åŠ¨"):(W.error({title:"PDFè½¬OFDå·¥å…·å¯åŠ¨å¤±è´¥",content:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:p.error||"æœªçŸ¥é”™è¯¯"}),e.jsx(I,{type:"primary",onClick:F,style:{marginTop:"10px"},children:"æŸ¥çœ‹è¯¦ç»†æ—¥å¿—"})]})}),console.error("PDFè½¬OFDå·¥å…·å¯åŠ¨è¯¦æƒ…:",p));return}const t=await window.electronAPI.launchExternalPdfApp({pdfPath:""});t.success?r.success("PDFè½¬OFDå·¥å…·å·²å¯åŠ¨"):(W.error({title:"PDFè½¬OFDå·¥å…·å¯åŠ¨å¤±è´¥",content:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:t.error||"æœªçŸ¥é”™è¯¯"}),e.jsx(I,{type:"primary",onClick:F,style:{marginTop:"10px"},children:"æŸ¥çœ‹è¯¦ç»†æ—¥å¿—"})]})}),console.error("PDFè½¬OFDå·¥å…·å¯åŠ¨è¯¦æƒ…:",t))}catch(t){console.error("å¯åŠ¨å¤–éƒ¨PDFè½¬OFDå·¥å…·å¤±è´¥:",t),r.error("å¯åŠ¨å¤–éƒ¨PDFè½¬OFDå·¥å…·å¤±è´¥: "+(t.message||"æœªçŸ¥é”™è¯¯"))}},F=async()=>{try{if(!window.electronAPI){r.error("Electron APIä¸å¯ç”¨");return}const t=await window.electronAPI.readLogFile();t.success?W.info({title:"åº”ç”¨æ—¥å¿—",width:800,content:e.jsx("div",{style:{maxHeight:"400px",overflow:"auto"},children:e.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-all"},children:t.content})}),okText:"å…³é—­"}):r.error("æ— æ³•è¯»å–æ—¥å¿—æ–‡ä»¶: "+t.error)}catch(t){r.error("è¯»å–æ—¥å¿—å¤±è´¥: "+(t.message||"æœªçŸ¥é”™è¯¯"))}};return e.jsxs("div",{className:"pdf-tools-container",children:[e.jsx(I,{type:"link",className:"back-button",onClick:()=>g(-1),icon:e.jsx(te,{}),children:"è¿”å›"}),e.jsx(ne,{className:"page-title",children:"PDFæ ¼å¼è½¬æ¢"}),e.jsx(de,{className:"page-subtitle",children:"å°†PDFæ–‡ä»¶è½¬æ¢ä¸ºæ‚¨éœ€è¦çš„æ ¼å¼ï¼Œæˆ–å°†å…¶ä»–æ–‡ä»¶è½¬ä¸ºPDF"}),e.jsx("div",{className:"steps-container",children:e.jsx(Ee,{current:w,className:"custom-steps",onChange:Q,items:[{title:"é€‰æ‹©è½¬æ¢æ–¹å‘",icon:e.jsx("div",{className:"step-number",children:"1"})},{title:"é€‰æ‹©ç›®æ ‡æ ¼å¼",icon:e.jsx("div",{className:"step-number",children:"2"})},{title:"ä¸Šä¼ æ–‡ä»¶",icon:e.jsx("div",{className:"step-number",children:"3"})}]})}),w===0&&e.jsxs("div",{className:"conversion-direction",children:[e.jsx(ne,{level:4,className:"section-title",children:"è¯·é€‰æ‹©è½¬æ¢æ–¹å‘"}),e.jsxs("div",{className:"direction-buttons",children:[e.jsx(Y,{className:`direction-card ${C==="pdfToOther"?"selected":""}`,onClick:()=>{G("pdfToOther"),q()},children:e.jsxs("div",{className:"direction-content",children:[e.jsx("div",{className:"direction-icon",children:e.jsx(le,{})}),e.jsx("div",{className:"direction-title",children:"PDFè½¬å…¶ä»–æ ¼å¼"}),e.jsx("div",{className:"direction-desc",children:".pdf â†’ å…¶ä»–æ ¼å¼"})]})}),e.jsx(Y,{className:`direction-card ${C==="otherToPdf"?"selected":""}`,onClick:()=>{G("otherToPdf"),q()},children:e.jsxs("div",{className:"direction-content",children:[e.jsx("div",{className:"direction-icon",children:e.jsx(le,{})}),e.jsx("div",{className:"direction-title",children:"å…¶ä»–æ ¼å¼è½¬PDF"}),e.jsx("div",{className:"direction-desc",children:"å…¶ä»–æ ¼å¼ â†’ .pdf"})]})})]})]}),w===1&&e.jsxs("div",{className:"format-selection",children:[e.jsx(ne,{level:4,className:"section-title",children:"è¯·é€‰æ‹©ç›®æ ‡æ ¼å¼"}),e.jsx("div",{className:"format-grid",children:x.map(t=>e.jsx(Y,{className:`format-card ${s===t.key?"selected":""}`,onClick:()=>{h(t.key),t.key==="ofd"?b():q()},bordered:!1,children:e.jsxs("div",{className:"format-content",children:[e.jsx("div",{className:"icon-circle",style:{backgroundColor:t.color},children:t.icon}),e.jsxs("div",{className:"format-info",children:[e.jsx("div",{className:"format-title",children:t.title}),e.jsx("div",{className:"format-desc",children:t.description})]}),s===t.key&&e.jsx("div",{className:"selected-indicator",children:e.jsx(ue,{})})]})},t.key))})]}),w===2&&e.jsx("div",{className:"upload-container",children:e.jsx(ns,{multiple:!0,accept:".pdf",beforeUpload:y,showUploadList:!1,className:"upload-area",disabled:a||o,children:e.jsx("div",{className:"upload-content",children:o?e.jsxs(e.Fragment,{children:[e.jsx(be,{size:"large"}),e.jsx("p",{className:"upload-text",children:"æ­£åœ¨åˆ†ææ–‡ä»¶..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"upload-icon-circle",children:e.jsx(Be,{className:"upload-icon"})}),e.jsx("p",{className:"upload-text",children:"æ‹–æ”¾PDFæ–‡ä»¶åˆ°è¿™é‡Œ"}),e.jsx("p",{className:"upload-hint",children:"æˆ–"}),e.jsx(I,{type:"primary",size:"large",className:"select-file-btn",children:"é€‰æ‹©æ–‡ä»¶"}),e.jsxs("p",{className:"file-limits",children:[C==="pdfToOther"?"æ”¯æŒPDFæ ¼å¼":"æ”¯æŒDOCã€DOCXã€XLSã€XLSXã€PPTã€PPTXã€JPGã€PNGç­‰æ ¼å¼",e.jsx("br",{}),"å•ä¸ªæ–‡ä»¶æœ€å¤§æ”¯æŒ20MB"]})]})})})}),n.length>0&&e.jsxs("div",{className:"file-list",children:[e.jsx(ne,{level:5,className:"file-list-title",children:"å·²ä¸Šä¼ çš„æ–‡ä»¶"}),n.map(t=>e.jsxs(Y,{className:`file-card ${t.status==="success"?"success":t.status==="error"?"error":""}`,bordered:!1,children:[e.jsxs("div",{className:"file-info",children:[e.jsx(de,{strong:!0,className:"file-name",children:t.name}),e.jsx(de,{type:"secondary",className:"file-size",children:z(t.originalSize)}),t.status==="success"&&e.jsxs("div",{className:"file-success",children:[e.jsx(ue,{})," è½¬æ¢æˆåŠŸ"]}),t.status==="error"&&e.jsxs("div",{className:"file-error",children:["è½¬æ¢å¤±è´¥: ",t.error]})]}),e.jsxs(oe,{children:[e.jsx(I,{type:"text",icon:e.jsx(ze,{}),className:"action-button",onClick:()=>j(t.preview),title:"é¢„è§ˆ"}),e.jsx(I,{type:"text",icon:e.jsx(Pe,{}),className:"action-button",onClick:()=>d(t.uid),title:"åˆ é™¤"})]})]},t.uid))]}),n.length>0&&e.jsx("div",{className:"button-container",children:e.jsx(I,{type:"primary",size:"large",block:!0,icon:e.jsx(qe,{}),onClick:D,loading:a,className:"convert-button",children:"å¼€å§‹è½¬æ¢"})}),e.jsx(W,{open:!!N,footer:null,onCancel:()=>R(null),width:800,className:"preview-modal",children:N&&e.jsx("iframe",{src:N,style:{width:"100%",height:"600px"},title:"PDF Preview"})}),e.jsx(rs,{visible:O,onClose:()=>P(!1),onConvert:l,pdfPreview:((B=u.pdfFile)==null?void 0:B.preview)||null,pdfFileName:((U=u.pdfFile)==null?void 0:U.name)||"",isConverting:!!u.isConverting,isInvoice:!!u.isInvoice})]})};const{Text:os,Title:we,Paragraph:Ns}=se,{Dragger:as}=fe,ls=()=>{const g=ee(),[s,h]=m.useState([]),[n,c]=m.useState({quality:85,maxWidth:1920,format:"jpg"});m.useState(null);const[a,f]=m.useState(!1),[N,R]=m.useState("highQuality"),O=async o=>{if(console.log("ä¸Šä¼ æ–‡ä»¶:",o),o.size>20*1024*1024)return r.error(`${o.name} è¶…è¿‡20MBé™åˆ¶`),!1;if(!o.type.startsWith("image/"))return r.error(`${o.name} ä¸æ˜¯æœ‰æ•ˆçš„å›¾ç‰‡æ–‡ä»¶`),!1;try{const x=new FileReader,i=await new Promise((E,z)=>{x.onload=()=>{typeof x.result=="string"?E(x.result):z(new Error("Failed to read file"))},x.onerror=()=>z(x.error),x.readAsDataURL(o)}),D=await P(i),Q=D?`${D.width} Ã— ${D.height} px`:void 0,q={uid:o.name+Date.now(),name:o.name,status:"pending",progress:0,originalSize:o.size,preview:i,originFileObj:o,originalDimensions:Q};if(h(E=>[...E,q]),window.electronAPI)try{const E=await window.electronAPI.uploadImage({dataUrl:i,fileName:o.name});E.success?(h(z=>z.map(l=>l.uid===q.uid?{...l,path:E.filePath}:l)),r.success(`${o.name} ä¸Šä¼ æˆåŠŸ`)):(r.error(`${o.name} ä¸Šä¼ å¤±è´¥: ${E.error}`),h(z=>z.filter(l=>l.uid!==q.uid)))}catch(E){r.error(`ä¸Šä¼ æ–‡ä»¶æ—¶å‡ºé”™: ${E.message||"æœªçŸ¥é”™è¯¯"}`),h(z=>z.filter(l=>l.uid!==q.uid))}else r.error("ç³»ç»ŸåŠŸèƒ½ä¸å¯ç”¨ï¼Œè¯·é‡å¯åº”ç”¨")}catch(x){r.error(`${o.name} å¤„ç†å¤±è´¥: ${x.message||"æœªçŸ¥é”™è¯¯"}`)}return!1},P=o=>new Promise(v=>{const x=new Image;x.onload=()=>{v({width:x.width,height:x.height})},x.onerror=()=>{v(null)},x.src=o}),u=async o=>{const v=s.findIndex(x=>x.uid===o.uid);if(v!==-1)try{if(h(x=>{const y=[...x];return y[v]={...y[v],status:"processing",progress:10},y}),window.electronAPI){const x=n.format,i=`${o.name.split(".").slice(0,-1).join(".")}_å‹ç¼©.${x}`,D=await window.electronAPI.processImage({inputData:o.preview,fileName:i,options:{quality:n.quality,format:n.format,maxWidth:n.maxWidth}});if(D.success){const Q=await P(D.data),q=Q?`${Q.width} Ã— ${Q.height} px`:void 0,E=o.originalSize&&D.size?((o.originalSize-D.size)/o.originalSize*100).toFixed(0)+"%":void 0;h(z=>{const l=[...z];return l[v]={...l[v],status:"success",progress:100,processedSize:D.size,processedPath:D.tempPath,preview:D.data,compressionRatio:E,compressedDimensions:q},l}),r.success(`${o.name} å¤„ç†æˆåŠŸ`)}else throw new Error(D.error||"å¤„ç†å¤±è´¥")}}catch(x){h(y=>{const i=[...y];return i[v]={...i[v],status:"error",progress:0,error:x.message||"å¤„ç†å¤±è´¥"},i}),r.error(`å¤„ç†å¤±è´¥: ${x.message||"æœªçŸ¥é”™è¯¯"}`)}},$=async()=>{if(s.length===0){r.warning("è¯·å…ˆæ·»åŠ å›¾ç‰‡");return}const o=s.filter(v=>v.status!=="success"&&v.status!=="processing");if(o.length===0){r.info("æ²¡æœ‰éœ€è¦å¤„ç†çš„æ–‡ä»¶");return}f(!0);try{for(const y of o)await u(y),await new Promise(i=>setTimeout(i,300));const x=(await new Promise(y=>{h(i=>(y(i),i))})).filter(y=>y.status==="success");if(x.length>0)if(window.electronAPI){const y=await window.electronAPI.selectSavePath({defaultName:"é€‰æ‹©ä¿å­˜ç›®å½•"});if(y!=null&&y.success){const i=await window.electronAPI.saveBatchImages({files:x.map(D=>({tempPath:D.processedPath,fileName:`${D.name.split(".").slice(0,-1).join(".")}_å‹ç¼©.${n.format}`})),outputDir:y.filePath});if(i!=null&&i.success)r.success("æ‰€æœ‰æ–‡ä»¶ä¿å­˜æˆåŠŸï¼"),h([]);else throw new Error((i==null?void 0:i.error)||"ä¿å­˜æ–‡ä»¶å¤±è´¥")}}else throw new Error("ç³»ç»ŸåŠŸèƒ½ä¸å¯ç”¨ï¼Œè¯·é‡å¯åº”ç”¨");else r.warning("æ²¡æœ‰å¤„ç†æˆåŠŸçš„æ–‡ä»¶éœ€è¦ä¿å­˜");r.success("æ‰€æœ‰æ–‡ä»¶å¤„ç†å®Œæˆï¼")}catch(v){r.error(`æ‰¹é‡å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: ${v.message||"æœªçŸ¥é”™è¯¯"}`)}finally{f(!1)}},w=o=>{if(!o)return"æœªçŸ¥";const v=["B","KB","MB","GB"];let x=0,y=o;for(;y>=1024&&x<v.length-1;)y/=1024,x++;return`${y.toFixed(2)} ${v[x]}`},k=o=>{switch(R(o),o){case"highQuality":c({...n,quality:90});break;case"balanced":c({...n,quality:75});break;case"maximum":c({...n,quality:50});break}},C=()=>{h([]),r.success("å·²æ¸…é™¤æ‰€æœ‰å›¾ç‰‡")},G=s.length;return e.jsxs("div",{className:"image-tools-container",children:[e.jsx(I,{type:"link",className:"back-button",onClick:()=>g(-1),icon:e.jsx(te,{}),children:"è¿”å›"}),e.jsx(we,{className:"page-title",children:"å›¾ç‰‡å‹ç¼©å·¥å…·"}),e.jsx(os,{className:"page-subtitle",children:"ä¼˜åŒ–å›¾ç‰‡å°ºå¯¸ï¼Œå‡å°æ–‡ä»¶ä½“ç§¯ï¼Œä¿æŒæ¸…æ™°åº¦"}),e.jsxs(Y,{className:"main-content-card",children:[e.jsxs("div",{className:"upload-container",children:[e.jsx(as,{multiple:!0,accept:".jpg,.jpeg,.png,.webp,.heic",beforeUpload:O,showUploadList:!1,className:"upload-area",disabled:a,children:e.jsxs("div",{className:"upload-content",children:[s.length>0&&!s.every(o=>o.status==="success")?e.jsx("div",{className:"thumbnail-preview",children:s.map((o,v)=>v<3&&o.status!=="success"&&e.jsx("div",{className:"thumbnail-item",children:e.jsx("img",{src:o.preview,alt:o.name})},o.uid))}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preset-thumbnails",children:[e.jsx("div",{className:"preset-thumbnail blue",children:e.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"10px",top:"10px",width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"white"}}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",background:"linear-gradient(to top, white 0%, rgba(255,255,255,0) 100%)"}})]})}),e.jsx("div",{className:"preset-thumbnail pink",children:e.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"10px",top:"10px",width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"white"}}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",background:"linear-gradient(to top, white 0%, rgba(255,255,255,0) 100%)"}})]})}),e.jsx("div",{className:"preset-thumbnail green",children:e.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"10px",top:"10px",width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"white"}}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40%",background:"linear-gradient(to top, white 0%, rgba(255,255,255,0) 100%)"}})]})})]})}),e.jsx("p",{className:"upload-text",children:"æ‹–æ”¾å›¾ç‰‡åˆ°è¿™é‡Œä¸Šä¼ "}),e.jsx("p",{className:"upload-hint",children:"æ”¯æŒJPGã€PNGã€WEBPã€HEICç­‰å¤šç§æ ¼å¼"}),e.jsx(I,{type:"primary",className:"select-file-btn",children:"é€‰æ‹©æ–‡ä»¶"})]})}),G>0&&s.some(o=>o.status!=="success")&&e.jsxs("div",{className:"files-count",children:["å·²é€‰æ‹©",s.filter(o=>o.status!=="success").length,"å¼ å›¾ç‰‡",e.jsx("span",{className:"count-badge",children:s.filter(o=>o.status!=="success").length})]})]}),e.jsxs("div",{className:"compress-options",children:[e.jsx(we,{level:5,className:"section-title",children:"å‹ç¼©é€‰é¡¹"}),e.jsxs("div",{className:"option-buttons",children:[e.jsx("div",{className:`option-button ${N==="highQuality"?"active":""}`,onClick:()=>k("highQuality"),children:e.jsx("span",{children:"ä¿æŒé«˜ç”»è´¨"})}),e.jsx("div",{className:`option-button ${N==="balanced"?"active":""}`,onClick:()=>k("balanced"),children:e.jsx("span",{children:"å¹³è¡¡æ¨¡å¼"})}),e.jsx("div",{className:`option-button ${N==="maximum"?"active":""}`,onClick:()=>k("maximum"),children:e.jsx("span",{children:"æœ€å¤§å‹ç¼©"})}),e.jsx("div",{className:`option-button ${N==="custom"?"active":""}`,onClick:()=>k("custom"),children:e.jsx("span",{children:"è‡ªå®šä¹‰è®¾ç½®"})})]}),e.jsxs("div",{className:"custom-settings",children:[e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-label",children:[e.jsx("span",{children:"è´¨é‡"}),e.jsxs("span",{className:"setting-value",children:[n.quality,"%"]})]}),e.jsxs("div",{className:"slider-container",children:[e.jsx("div",{className:"progress-bg"}),e.jsx("div",{className:"progress-fill",style:{width:`${n.quality/100*520}px`}}),e.jsx(pe,{value:n.quality,onChange:o=>c({...n,quality:o}),min:0,max:100,className:"custom-slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsxs("div",{className:"setting-label",children:[e.jsx("span",{children:"æœ€å¤§å®½åº¦"}),e.jsxs("span",{className:"setting-value",children:[n.maxWidth,"px"]})]}),e.jsxs("div",{className:"slider-container",children:[e.jsx("div",{className:"progress-bg"}),e.jsx("div",{className:"progress-fill",style:{width:`${n.maxWidth/3840*520}px`}}),e.jsx(pe,{value:n.maxWidth,onChange:o=>c({...n,maxWidth:o}),min:800,max:3840,className:"custom-slider"})]})]}),e.jsxs("div",{className:"setting-item",children:[e.jsx("div",{className:"setting-label",children:e.jsx("span",{children:"è¾“å‡ºæ ¼å¼"})}),e.jsxs("div",{className:"format-buttons",children:[e.jsx("div",{className:`format-button ${n.format==="jpg"?"active":""}`,onClick:()=>c({...n,format:"jpg"}),children:"JPG"}),e.jsx("div",{className:`format-button ${n.format==="png"?"active":""}`,onClick:()=>c({...n,format:"png"}),children:"PNG"}),e.jsx("div",{className:`format-button ${n.format==="webp"?"active":""}`,onClick:()=>c({...n,format:"webp"}),children:"WEBP"}),e.jsx("div",{className:`format-button ${n.format==="avif"?"active":""}`,onClick:()=>c({...n,format:"avif"}),children:"AVIF"})]})]})]}),s.length>0&&e.jsxs("div",{className:"preview-container",children:[e.jsxs("div",{className:"preview-section original",children:[e.jsx("h3",{className:"preview-title",children:"åŸå›¾"}),e.jsx("p",{className:"preview-filename",children:s[0].name}),e.jsx("p",{className:"preview-size",children:w(s[0].originalSize)}),e.jsx("p",{className:"preview-dimensions",children:s[0].originalDimensions})]}),e.jsx("div",{className:"preview-divider"}),e.jsxs("div",{className:"preview-section compressed",children:[e.jsx("h3",{className:"preview-title",children:"å‹ç¼©å"}),e.jsxs("p",{className:"preview-filename",children:[s[0].name.split(".").slice(0,-1).join("."),"_å‹ç¼©.",n.format]}),e.jsx("p",{className:"preview-size compressed-size",children:s[0].processedSize?w(s[0].processedSize):s[0].originalSize?"é¢„è®¡ "+w(s[0].originalSize*.3):"æ­£åœ¨è®¡ç®—..."}),e.jsx("p",{className:"preview-dimensions",children:s[0].compressedDimensions||s[0].originalDimensions}),s[0].compressionRatio&&e.jsxs("div",{className:"saving-badge",children:["èŠ‚çœ ",s[0].compressionRatio]})]})]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx(I,{className:"add-more-button",onClick:C,children:"æ·»åŠ æ›´å¤šå›¾ç‰‡"}),e.jsx(I,{type:"primary",className:"process-button",onClick:$,loading:a,disabled:s.length===0,children:"ä¸‹è½½å‹ç¼©åçš„å›¾ç‰‡"})]})]})]})]})},{Text:ie}=se,{TextArea:cs}=ge,ds=()=>{const g=ee(),[s,h]=m.useState(""),[n,c]=m.useState("url"),[a,f]=m.useState({size:500,errorCorrectionLevel:"M",foregroundColor:"#000000",format:"png"}),[N,R]=m.useState(""),[O,P]=m.useState(!1),[u,$]=m.useState(!1),[w,k]=m.useState(""),[C,G]=m.useState(!1),o=async()=>{if(!s){r.error("è¯·è¾“å…¥å†…å®¹");return}P(!0);try{if(window.electronAPI){const i=await window.electronAPI.generateQR({content:s,options:{...a,type:n}});i.success?(R(i.dataUrl),i.isText&&i.textContent?(k(i.textContent),G(!0)):(k(""),G(!1)),r.success("äºŒç»´ç ç”ŸæˆæˆåŠŸï¼")):r.error("ç”Ÿæˆå¤±è´¥ï¼š"+i.error)}else r.error("æ— æ³•è®¿é—®Electron API")}catch(i){r.error("ç”Ÿæˆè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯"),console.error("äºŒç»´ç ç”Ÿæˆé”™è¯¯:",i)}finally{P(!1)}},v=async()=>{if(!N){r.error("è¯·å…ˆç”ŸæˆäºŒç»´ç ");return}$(!0);try{if(window.electronAPI){const i=await window.electronAPI.saveQR({dataUrl:N,format:a.format});i.success?r.success("äºŒç»´ç å·²ä¿å­˜ï¼"):i.reason==="canceled"||r.error("ä¿å­˜å¤±è´¥ï¼š"+(i.error||"æœªçŸ¥é”™è¯¯"))}else r.error("æ— æ³•è®¿é—®Electron API")}catch(i){r.error("ä¸‹è½½è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯"),console.error("äºŒç»´ç ä¸‹è½½é”™è¯¯:",i)}finally{$(!1)}},x=()=>{h(""),N&&(R(""),k(""),G(!1),r.success("å†…å®¹å·²æ¸…é™¤"))},y=[{value:"#000000",label:"é»‘è‰²"},{value:"#0071e3",label:"è“è‰²"},{value:"#fa3c52",label:"çº¢è‰²"},{value:"#38b6ff",label:"æµ…è“"},{value:"#6a0dad",label:"ç´«è‰²"}];return e.jsxs("div",{className:"qrcode-container",children:[e.jsxs("button",{className:"back-button",onClick:()=>g(-1),children:[e.jsx(te,{style:{marginRight:8}})," è¿”å›"]}),e.jsx("h1",{className:"page-title",children:"äºŒç»´ç ç”Ÿæˆ"}),e.jsx("div",{className:"page-actions",children:e.jsx(I,{onClick:()=>g("/qrcode/batch"),type:"default",icon:e.jsx(me,{}),style:{marginBottom:20},children:"æ‰¹é‡ç”ŸæˆäºŒç»´ç "})}),e.jsxs("div",{className:"qrcode-content",children:[e.jsxs("div",{className:"qrcode-settings-panel",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{children:"å†…å®¹"}),e.jsx(cs,{value:s,onChange:i=>h(i.target.value),placeholder:"è¯·è¾“å…¥å†…å®¹ï¼Œå¦‚ç½‘å€ã€æ–‡æœ¬ç­‰",rows:4,style:{borderRadius:8,resize:"none"}})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{children:"å†…å®¹ç±»å‹"}),e.jsxs(A.Group,{value:n,onChange:i=>c(i.target.value),buttonStyle:"solid",style:{display:"flex",gap:"10px"},children:[e.jsx(A.Button,{value:"url",style:{borderRadius:"18px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",width:"80px"},children:"URL"}),e.jsx(A.Button,{value:"text",style:{borderRadius:"18px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",width:"80px"},children:"æ–‡æœ¬"}),e.jsx(A.Button,{value:"vcard",style:{borderRadius:"18px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",width:"80px"},children:"vCard"})]})]}),e.jsx(ie,{strong:!0,style:{fontSize:18,display:"block",marginBottom:16,marginTop:24},children:"è®¾ç½®"}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{children:"å¤§å°"}),e.jsxs("div",{className:"slider-container",children:[e.jsx(pe,{value:a.size,min:100,max:1e3,step:50,onChange:i=>f({...a,size:i}),marks:{100:"100px",500:"500px",1e3:"1000px"},trackStyle:{backgroundColor:"#6a0dad"},handleStyle:{borderColor:"#6a0dad",backgroundColor:"#fff"}}),e.jsxs("span",{className:"slider-value",children:[a.size,"px"]})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{children:"è¯¯å·®ä¿®æ­£çº§åˆ«"}),e.jsxs(A.Group,{value:a.errorCorrectionLevel,onChange:i=>f({...a,errorCorrectionLevel:i.target.value}),buttonStyle:"solid",style:{display:"flex",gap:"10px"},children:[e.jsx(A.Button,{value:"L",style:{borderRadius:"15px",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"L"}),e.jsx(A.Button,{value:"M",style:{borderRadius:"15px",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"M"}),e.jsx(A.Button,{value:"H",style:{borderRadius:"15px",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",padding:0},children:"H"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{children:"å‰æ™¯è‰²"}),e.jsx("div",{className:"color-options",children:y.map(i=>e.jsx("div",{className:`color-circle ${a.foregroundColor===i.value?"selected":""}`,style:{backgroundColor:i.value},onClick:()=>f({...a,foregroundColor:i.value}),title:i.label},i.value))})]}),e.jsx(I,{type:"primary",size:"large",block:!0,className:"primary-button",onClick:o,loading:O,style:{marginTop:24},icon:e.jsx(je,{}),children:"ç”ŸæˆäºŒç»´ç "}),e.jsx(I,{type:"default",size:"large",block:!0,onClick:x,style:{marginTop:12},icon:e.jsx(Ie,{}),children:"æ¸…é™¤å†…å®¹"})]}),e.jsxs("div",{className:"qrcode-preview-panel",children:[e.jsx("div",{className:"qrcode-preview-box",children:O?e.jsxs("div",{className:"qrcode-loading",children:[e.jsx(be,{size:"large"}),e.jsx("p",{style:{marginTop:16,color:"#666"},children:"ç”Ÿæˆä¸­..."})]}):N?C?e.jsx("pre",{className:"qrcode-text-preview",children:w}):e.jsx("img",{src:N,alt:"QR Code",style:{maxWidth:"100%",maxHeight:"100%"}}):e.jsxs("div",{className:"qrcode-placeholder",children:[e.jsx(je,{style:{fontSize:48,color:"#ddd"}}),e.jsx(ie,{style:{color:"#666",marginTop:16},children:"é¢„è§ˆåŒºåŸŸ"})]})}),e.jsxs("div",{className:"qrcode-download-section",children:[e.jsx(ie,{strong:!0,style:{fontSize:18,marginBottom:16,display:"block"},children:"ä¸‹è½½é€‰é¡¹"}),e.jsxs(A.Group,{value:a.format,onChange:i=>f({...a,format:i.target.value}),buttonStyle:"solid",style:{display:"flex",gap:"10px",justifyContent:"center",marginBottom:16},children:[e.jsx(A.Button,{value:"png",style:{borderRadius:"18px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",width:"80px"},children:"PNG"}),e.jsx(A.Button,{value:"svg",style:{borderRadius:"18px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",width:"80px"},children:"SVG"}),e.jsx(A.Button,{value:"text",style:{borderRadius:"18px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",width:"80px"},title:"ASCIIæ–‡æœ¬æ ¼å¼ï¼Œä»…ç”¨äºå±•ç¤ºï¼Œä¸å¯ç›´æ¥æ‰«æ",children:"æ–‡æœ¬"})]}),a.format==="text"&&e.jsx(ie,{type:"warning",style:{marginBottom:16,display:"block",fontSize:12},children:"æ³¨æ„ï¼šæ–‡æœ¬æ ¼å¼æ˜¯ASCIIè‰ºæœ¯å­—ç¬¦ï¼Œä»…ç”¨äºå±•ç¤ºæˆ–åˆ†äº«æ–‡æœ¬ï¼Œä¸å¯ç›´æ¥æ‰«æã€‚è¯·ä½¿ç”¨PNGæˆ–SVGæ ¼å¼è·å–å¯æ‰«æçš„äºŒç»´ç ã€‚"}),e.jsx(I,{type:"primary",size:"large",block:!0,className:"primary-button",disabled:!N||O,loading:u,onClick:v,icon:e.jsx(Se,{}),style:{height:"40px",borderRadius:"20px"},children:"ä¸‹è½½äºŒç»´ç "})]})]})]})]})},{Text:Z,Title:hs}=se,{TextArea:us}=ge,he=()=>Date.now().toString(36)+Math.random().toString(36).substr(2,5),ps=()=>{const g=ee(),[s,h]=m.useState([]),[n,c]=m.useState("text"),[a,f]=m.useState(!1),[N,R]=m.useState(!1),[O,P]=m.useState("png"),[u,$]=m.useState(null),[w,k]=m.useState(!1),C=()=>{const l={id:he(),content:"",type:n,status:"pending"};h([...s,l])},G=l=>{h(s.filter(d=>d.id!==l))},o=(l,d)=>{h(s.map(j=>j.id===l?{...j,content:d,status:"pending"}:j))},v=l=>{try{const j=l.split(/\r?\n/).filter(b=>b.trim()).map(b=>({id:he(),content:b.trim(),type:n,status:"pending"}));j.length>0?(h([...s,...j]),r.success(`æˆåŠŸå¯¼å…¥${j.length}æ¡æ•°æ®`)):r.error("æ²¡æœ‰å‘ç°æœ‰æ•ˆæ•°æ®")}catch(d){r.error("è§£ææ–‡ä»¶å¤±è´¥"),console.error("è§£ææ–‡ä»¶é”™è¯¯:",d)}},x={name:"file",multiple:!1,accept:".txt,.csv",showUploadList:!1,beforeUpload:l=>{const d=new FileReader;return d.onload=j=>{j.target&&typeof j.target.result=="string"&&v(j.target.result)},d.readAsText(l),!1}},y=()=>{W.confirm({title:"æ‰¹é‡å¯¼å…¥æ–‡æœ¬",width:600,content:e.jsxs("div",{children:[e.jsx("p",{children:"æ¯è¡Œä¸€ä¸ªå†…å®¹ï¼Œå°†è‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„äºŒç»´ç ã€‚æ”¯æŒæ‰¹é‡ç²˜è´´ï¼Œæœ€å¤šæ”¯æŒ1000è¡Œã€‚"}),e.jsx(us,{rows:10,placeholder:`è¯·ç²˜è´´æ–‡æœ¬å†…å®¹ï¼Œæ¯è¡Œå°†ç”Ÿæˆä¸€ä¸ªäºŒç»´ç 
ç¤ºä¾‹ï¼š
https://www.example1.com
https://www.example2.com
æ–‡æœ¬å†…å®¹1
æ–‡æœ¬å†…å®¹2`,id:"batchTextInput",style:{marginTop:"10px"}})]}),onOk(){const l=document.getElementById("batchTextInput");if(l&&l.value){const d=l.value.split(/\r?\n/).map(b=>b.trim()).filter(b=>b.length>0);if(d.length===0){r.error("æ²¡æœ‰æ£€æµ‹åˆ°æœ‰æ•ˆå†…å®¹");return}if(d.length>1e3){r.error("è¶…å‡ºæœ€å¤§è¡Œæ•°é™åˆ¶ï¼ˆ1000è¡Œï¼‰ï¼Œè¯·å‡å°‘å†…å®¹åé‡è¯•");return}d.some(b=>b.startsWith("http://")||b.startsWith("https://")||b.startsWith("www."))&&n!=="url"?W.confirm({title:"æ£€æµ‹åˆ°URL",content:"æ£€æµ‹åˆ°å†…å®¹ä¸­å¯èƒ½åŒ…å«URLï¼Œæ˜¯å¦è‡ªåŠ¨åˆ‡æ¢åˆ°URLç±»å‹ï¼Ÿ",onOk(){c("url"),i(d)},onCancel(){i(d)}}):i(d)}},okText:"ç¡®è®¤å¯¼å…¥",cancelText:"å–æ¶ˆ"})},i=l=>{const d=l.map(j=>({id:he(),content:j,type:n,status:"pending"}));h(j=>[...j,...d]),r.success(`æˆåŠŸå¯¼å…¥ ${d.length} æ¡æ•°æ®`),setTimeout(()=>{const j=document.querySelector(".ant-table-body");j&&(j.scrollTop=j.scrollHeight)},100)},D=async()=>{if(s.length===0){r.error("è¯·å…ˆæ·»åŠ äºŒç»´ç å†…å®¹");return}f(!0);const l=s.length;let d=0,j=0;try{const b=[...s];for(let F=0;F<b.length;F++){const B=b[F];if(B.status!=="generated"){if(!B.content.trim()){b[F]={...B,status:"error",error:"å†…å®¹ä¸èƒ½ä¸ºç©º"},j++;continue}try{if(window.electronAPI){const U=await window.electronAPI.generateQR({content:B.content,options:{size:300,errorCorrectionLevel:"M",foregroundColor:"#000000",format:O,type:B.type}});U.success?(b[F]={...B,dataUrl:U.dataUrl,status:"generated"},d++):(b[F]={...B,status:"error",error:U.error||"ç”Ÿæˆå¤±è´¥"},j++)}else throw new Error("Electron APIä¸å¯ç”¨")}catch(U){b[F]={...B,status:"error",error:U instanceof Error?U.message:"å¤„ç†è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯"},j++}h([...b]),((F+1)%10===0||F===b.length-1)&&r.info(`å·²å¤„ç† ${F+1}/${l} ä¸ªäºŒç»´ç `)}}r.success(`æ‰¹é‡ç”Ÿæˆå®Œæˆï¼æˆåŠŸ: ${d}ä¸ª, å¤±è´¥: ${j}ä¸ª`)}catch(b){r.error("æ‰¹é‡ç”Ÿæˆè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯"),console.error("æ‰¹é‡ç”Ÿæˆé”™è¯¯:",b)}finally{f(!1)}},Q=async()=>{const l=s.filter(d=>d.status==="generated");if(l.length===0){r.error("æ²¡æœ‰å¯ä¸‹è½½çš„äºŒç»´ç ï¼Œè¯·å…ˆç”ŸæˆäºŒç»´ç ");return}R(!0);try{if(window.electronAPI){const d=await window.electronAPI.selectSavePath({});if(!d.success||d.reason==="canceled"){R(!1);return}const j=new Date().toISOString().replace(/[:.]/g,"-"),b=l.map((B,U)=>{const t=B.content.substring(0,20).replace(/[\\/:*?"<>|]/g,"_").replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_\-.]/g,""),p=`qrcode_${B.type}_${t||U}_${U}_${j}.${O}`;return{dataUrl:B.dataUrl,fileName:p,format:O,isText:!1}});console.warn("å‡†å¤‡ä¿å­˜çš„äºŒç»´ç åˆ—è¡¨:",b);const F=await window.electronAPI.saveBatchQR({qrList:b,outputDir:d.filePath});F.success?(r.success(`å·²ä¿å­˜${F.successCount}ä¸ªäºŒç»´ç åˆ°: ${F.savedPath}`),F.failedCount>0&&r.warning(`æœ‰${F.failedCount}ä¸ªäºŒç»´ç ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—`)):r.error("ä¿å­˜å¤±è´¥: "+(F.error||"æœªçŸ¥é”™è¯¯"))}else r.error("æ— æ³•è®¿é—®Electron API")}catch(d){console.error("æ‰¹é‡ä¸‹è½½é”™è¯¯:",d),r.error("ä¸‹è½½è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: "+(d instanceof Error?d.message:String(d)))}finally{R(!1)}},q=()=>{if(s.length===0){r.info("å½“å‰æ²¡æœ‰äºŒç»´ç é¡¹");return}W.confirm({title:"ç¡®è®¤æ¸…é™¤",content:"ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰äºŒç»´ç é¡¹å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚",okText:"ç¡®è®¤æ¸…é™¤",cancelText:"å–æ¶ˆ",onOk(){h([]),r.success("å·²æ¸…é™¤æ‰€æœ‰å†…å®¹")}})},E=l=>{$(l),k(!0)},z=[{title:"å†…å®¹",dataIndex:"content",key:"content",render:(l,d)=>e.jsx(ge,{value:l,onChange:j=>o(d.id,j.target.value),placeholder:"è¾“å…¥äºŒç»´ç å†…å®¹",disabled:a})},{title:"ç±»å‹",dataIndex:"type",key:"type",width:100,render:l=>({url:"URL",text:"æ–‡æœ¬",vcard:"vCard"})[l]||l},{title:"çŠ¶æ€",dataIndex:"status",key:"status",width:120,render:(l,d)=>l==="generated"?e.jsx(Z,{type:"success",children:"å·²ç”Ÿæˆ"}):l==="error"?e.jsx(We,{title:d.error,children:e.jsx(Z,{type:"danger",children:"å¤±è´¥"})}):e.jsx(Z,{type:"warning",children:"å¾…ç”Ÿæˆ"})},{title:"æ“ä½œ",key:"action",width:200,render:(l,d)=>e.jsxs(oe,{size:"small",children:[d.status==="generated"&&e.jsx(I,{type:"link",size:"small",icon:e.jsx(me,{}),onClick:()=>E(d),children:"é¢„è§ˆ"}),e.jsx(He,{title:"ç¡®å®šè¦åˆ é™¤è¿™é¡¹å—?",onConfirm:()=>G(d.id),children:e.jsx(I,{type:"link",danger:!0,size:"small",icon:e.jsx(Pe,{}),children:"åˆ é™¤"})})]})}];return e.jsxs("div",{className:"qrcode-batch-container",children:[e.jsxs("button",{className:"back-button",onClick:()=>g("/qrcode"),children:[e.jsx(te,{style:{marginRight:8}})," è¿”å›"]}),e.jsx(hs,{level:2,className:"page-title",children:"æ‰¹é‡äºŒç»´ç ç”Ÿæˆ"}),e.jsxs("div",{className:"batch-control-panel",children:[e.jsxs("div",{className:"batch-settings",children:[e.jsxs("div",{className:"form-control",children:[e.jsx(Z,{strong:!0,children:"å†…å®¹ç±»å‹"}),e.jsxs(A.Group,{value:n,onChange:l=>c(l.target.value),optionType:"button",buttonStyle:"solid",children:[e.jsx(A.Button,{value:"text",children:"æ–‡æœ¬"}),e.jsx(A.Button,{value:"url",children:"URL"}),e.jsx(A.Button,{value:"vcard",children:"vCard"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx(Z,{strong:!0,children:"è¾“å‡ºæ ¼å¼"}),e.jsxs(A.Group,{value:O,onChange:l=>P(l.target.value),optionType:"button",buttonStyle:"solid",children:[e.jsx(A.Button,{value:"png",children:"PNG"}),e.jsx(A.Button,{value:"svg",children:"SVG"})]})]})]}),e.jsx("div",{className:"batch-import-tools",children:e.jsxs(oe,{wrap:!0,children:[e.jsx(I,{icon:e.jsx(_e,{}),onClick:C,disabled:a,children:"æ·»åŠ é¡¹"}),e.jsx(fe,{...x,children:e.jsx(I,{icon:e.jsx(Ce,{}),disabled:a,children:"å¯¼å…¥CSV"})}),e.jsx(I,{icon:e.jsx(Me,{}),onClick:y,disabled:a,type:"primary",children:"ç²˜è´´æ–‡æœ¬"}),e.jsx(I,{icon:e.jsx(Ie,{}),onClick:q,disabled:a||s.length===0,danger:!0,children:"æ¸…é™¤æ‰€æœ‰"})]})})]}),e.jsx("div",{className:"batch-data-table",children:e.jsx(Qe,{dataSource:s,columns:z,rowKey:"id",pagination:!1,scroll:{y:400},loading:a})}),e.jsx("div",{className:"batch-control-panel",children:e.jsxs(oe,{wrap:!0,children:[e.jsx(I,{icon:e.jsx(me,{}),onClick:D,loading:a,type:"primary",disabled:s.length===0,children:"ç”Ÿæˆå…¨éƒ¨äºŒç»´ç "}),e.jsx(I,{icon:e.jsx(Se,{}),onClick:Q,loading:N,disabled:s.filter(l=>l.status==="generated").length===0,children:"ä¸‹è½½å…¨éƒ¨äºŒç»´ç "})]})}),e.jsx(W,{title:"äºŒç»´ç é¢„è§ˆ",open:w,onCancel:()=>k(!1),footer:null,width:400,children:u&&u.dataUrl&&e.jsxs("div",{className:"qr-preview-modal",children:[e.jsx("img",{src:u.dataUrl,alt:"QR Code Preview",style:{maxWidth:"100%"}}),e.jsxs("div",{style:{marginTop:16,textAlign:"center"},children:[e.jsx(Z,{strong:!0,children:"å†…å®¹:"})," ",u.content]})]})})]})},{Title:ms,Paragraph:xs}=se,fs=()=>{const g=ee(),s=[{question:"å¦‚ä½•ä½¿ç”¨PDFè½¬æ¢åŠŸèƒ½ï¼Ÿ",answer:"åœ¨PDFå·¥å…·é¡µé¢ï¼Œé€‰æ‹©éœ€è¦çš„è½¬æ¢æ ¼å¼ï¼ˆWordã€Excelã€PPTç­‰ï¼‰ï¼Œç„¶åå°†PDFæ–‡ä»¶æ‹–æ‹½åˆ°ä¸Šä¼ åŒºåŸŸæˆ–ç‚¹å‡»é€‰æ‹©æ–‡ä»¶ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨å¼€å§‹è½¬æ¢ï¼Œå®Œæˆåå¯ä»¥ä¸‹è½½è½¬æ¢åçš„æ–‡ä»¶ã€‚"},{question:"å›¾ç‰‡å‹ç¼©åè´¨é‡å¦‚ä½•ï¼Ÿ",answer:"æˆ‘ä»¬ä½¿ç”¨æ™ºèƒ½å‹ç¼©ç®—æ³•ï¼Œåœ¨ä¿è¯è§†è§‰æ•ˆæœçš„åŒæ—¶æœ€å¤§ç¨‹åº¦å‡å°æ–‡ä»¶ä½“ç§¯ã€‚æ‚¨å¯ä»¥é€šè¿‡è°ƒèŠ‚å‹ç¼©è´¨é‡ï¼ˆ0-100%ï¼‰æ¥å¹³è¡¡å›¾ç‰‡è´¨é‡å’Œæ–‡ä»¶å¤§å°ã€‚"},{question:"æ”¯æŒå“ªäº›å›¾ç‰‡æ ¼å¼ï¼Ÿ",answer:"ç›®å‰æ”¯æŒæœ€å¸¸ç”¨çš„å›¾ç‰‡æ ¼å¼ï¼šJPGã€PNGã€WebPã€‚æ‚¨å¯ä»¥åœ¨å‹ç¼©æ—¶é€‰æ‹©è¾“å‡ºæ ¼å¼ï¼Œæ–¹ä¾¿è·¨å¹³å°ä½¿ç”¨ã€‚"},{question:"äºŒç»´ç æ”¯æŒä»€ä¹ˆå†…å®¹ï¼Ÿ",answer:"æ”¯æŒURLé“¾æ¥ã€çº¯æ–‡æœ¬å†…å®¹ã€vCardåç‰‡ç­‰æ ¼å¼ã€‚ç”Ÿæˆçš„äºŒç»´ç å¯ä»¥è‡ªå®šä¹‰å¤§å°ã€é¢œè‰²ï¼Œå¹¶æ”¯æŒå¯¼å‡ºä¸ºPNGæˆ–SVGæ ¼å¼ã€‚"}],h={email:"support@toolbox.com",website:"https://www.toolbox.com",github:"https://github.com/toolbox"};return e.jsxs("div",{children:[e.jsx(I,{icon:e.jsx(te,{}),type:"link",onClick:()=>g(-1),style:{marginBottom:24},children:"è¿”å›"}),e.jsx(ms,{level:2,style:{textAlign:"center",marginBottom:48},children:"å¸®åŠ©ä¸æ”¯æŒ"}),e.jsx(Y,{title:"å¸¸è§é—®é¢˜",style:{marginBottom:32},children:e.jsx(X,{dataSource:s,renderItem:n=>e.jsx(X.Item,{children:e.jsx(X.Item.Meta,{title:n.question,description:n.answer})})})}),e.jsxs(Y,{title:"è”ç³»æˆ‘ä»¬",children:[e.jsx(xs,{children:"å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæˆ–æœ‰ä»»ä½•å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š"}),e.jsxs(X,{children:[e.jsxs(X.Item,{children:[e.jsx("strong",{children:"é‚®ç®±ï¼š"})," ",h.email]}),e.jsxs(X.Item,{children:[e.jsx("strong",{children:"å®˜ç½‘ï¼š"})," ",h.website]}),e.jsxs(X.Item,{children:[e.jsx("strong",{children:"GitHubï¼š"})," ",h.github]})]})]})]})};const gs=()=>{const[g,s]=m.useState(!1),[h,n]=m.useState(null),[c,a]=m.useState(null),f=De(),N=ee(),R=m.useCallback(P=>{var u;if(console.log("æ¥æ”¶åˆ°èœå•æ“ä½œ:",P),typeof P=="object"){const{action:$,...w}=P;switch($){case"search-text":console.log(`æœç´¢æ–‡æœ¬: ${w.text}`),w.text&&window.confirm(`è¦æœç´¢ "${w.text}" å—ï¼Ÿ`)&&window.open(`https://www.baidu.com/s?wd=${encodeURIComponent(w.text)}`,"_blank");break;case"save-image":if(console.log(`ä¿å­˜å›¾ç‰‡: ${w.src}`),w.src&&((u=window.electronAPI)!=null&&u.selectSavePath)){const k=w.src.split("/").pop()||"image.png";window.electronAPI.selectSavePath({defaultName:k}).then(C=>{C.success&&C.filePath&&console.log(`ä¿å­˜å›¾ç‰‡åˆ°: ${C.filePath}`)}).catch(C=>console.error("ä¿å­˜å›¾ç‰‡å¤±è´¥:",C))}break;case"copy-image":console.log(`å¤åˆ¶å›¾ç‰‡: ${w.src}`);break;default:console.log(`æœªå¤„ç†çš„å¯¹è±¡æ“ä½œ: ${$}`)}return}switch(P){case"new-workspace":N("/");break;case"save":f.pathname.includes("/pdf")?console.log("æ‰§è¡ŒPDFå·¥å…·ä¿å­˜æ“ä½œ"):f.pathname.includes("/image")?console.log("æ‰§è¡Œå›¾ç‰‡å·¥å…·ä¿å­˜æ“ä½œ"):f.pathname.includes("/qrcode")&&console.log("æ‰§è¡ŒäºŒç»´ç å·¥å…·ä¿å­˜æ“ä½œ");break;case"save-as":console.log("æ‰§è¡Œå¦å­˜ä¸ºæ“ä½œ");break;case"check-update":console.log("æ£€æŸ¥æ›´æ–°");break;case"go-home":console.log("è¿”å›é¦–é¡µ"),N("/");break;default:console.log(`æœªå¤„ç†çš„èœå•æ“ä½œ: ${P}`)}},[f.pathname,N]),O=m.useCallback(P=>{var $;console.log(`æ¥æ”¶åˆ°æ–‡ä»¶æ‰“å¼€äº‹ä»¶: ${P.path}`);const u=($=P.path.split(".").pop())==null?void 0:$.toLowerCase();u&&(u==="pdf"?(N("/pdf"),sessionStorage.setItem("openFile",JSON.stringify(P))):["jpg","jpeg","png","webp"].includes(u)&&(N("/image"),sessionStorage.setItem("openFile",JSON.stringify(P))))},[N]);return m.useEffect(()=>{console.log("====== åº”ç”¨åˆå§‹åŒ–å¼€å§‹ ======"),console.log("App ç»„ä»¶å·²åŠ è½½"),console.log("å½“å‰è·¯å¾„:",f.pathname);let P=null;try{const u=window.electronAPI;if(console.log("æ£€æµ‹electronAPI:",u?"å­˜åœ¨":"ä¸å­˜åœ¨"),u){console.log("æ£€æµ‹åˆ°Electronç¯å¢ƒï¼Œæ­£åœ¨è·å–ä¿¡æ¯...");const $=Object.keys(u);console.log("å¯ç”¨APIæ–¹æ³•:",$);let w,k;try{typeof u.onMenuAction=="function"?(w=u.onMenuAction(R),console.log("èœå•æ“ä½œç›‘å¬å™¨æ³¨å†ŒæˆåŠŸ")):console.warn("onMenuAction ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç±»å‹:",typeof u.onMenuAction),typeof u.onFileOpened=="function"?(k=u.onFileOpened(O),console.log("æ–‡ä»¶æ‰“å¼€ç›‘å¬å™¨æ³¨å†ŒæˆåŠŸ")):console.warn("onFileOpened ä¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç±»å‹:",typeof u.onFileOpened)}catch(C){console.error("æ³¨å†Œäº‹ä»¶ç›‘å¬å™¨å¤±è´¥:",C)}try{console.log("æ­£åœ¨è·å–åº”ç”¨ä¿¡æ¯..."),u.getAppInfo().then(C=>{console.log("è·å–Electronç¯å¢ƒä¿¡æ¯æˆåŠŸ:",C),n(C)}).catch(C=>{console.error("è·å–Electronä¿¡æ¯å¤±è´¥:",C),a(`è·å–Electronä¿¡æ¯å¤±è´¥: ${C.message||"æœªçŸ¥é”™è¯¯"}`)}).finally(()=>{console.log("åº”ç”¨ä¿¡æ¯è·å–ç»“æŸï¼Œè®¾ç½®åº”ç”¨ä¸ºå°±ç»ªçŠ¶æ€"),s(!0)})}catch(C){console.error("è°ƒç”¨Electron APIå¤±è´¥:",C),a(`Electron APIè°ƒç”¨å¤±è´¥: ${C.message||"æœªçŸ¥é”™è¯¯"}`),s(!0)}return()=>{P&&clearTimeout(P),w&&w(),k&&k(),console.log("åº”ç”¨ç»„ä»¶å¸è½½ï¼Œæ¸…ç†èµ„æº")}}else console.log("æœªæ£€æµ‹åˆ°Electronç¯å¢ƒï¼Œå¯èƒ½åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ"),s(!0)}catch(u){console.error("è·å–Electronä¿¡æ¯å¤±è´¥:",u),a("æ— æ³•è¿æ¥åˆ°Electron APIï¼Œè¯·ç¡®ä¿åº”ç”¨æ­£ç¡®å¯åŠ¨"),s(!0)}P=setTimeout(()=>{console.log("åº”ç”¨åˆå§‹åŒ–è¶…æ—¶ï¼Œå¼ºåˆ¶æ˜¾ç¤ºç•Œé¢"),g||s(!0)},3e3),console.log("====== åº”ç”¨åˆå§‹åŒ–è¯·æ±‚å®Œæˆ ======")},[f.pathname,R,O]),m.useEffect(()=>{g&&console.log("====== åº”ç”¨å·²å‡†å¤‡å°±ç»ª ======")},[g]),g?e.jsxs("div",{className:"app-container",children:[e.jsxs("header",{className:"header",children:[e.jsx("div",{className:"logo",children:"å·¥å…·ç®±"}),e.jsx("nav",{className:"main-nav",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(K,{to:"/",children:"é¦–é¡µ"})}),e.jsx("li",{children:e.jsx(K,{to:"/pdf",children:"PDFå·¥å…·"})}),e.jsx("li",{children:e.jsx(K,{to:"/image",children:"å›¾ç‰‡å·¥å…·"})}),e.jsx("li",{children:e.jsx(K,{to:"/qrcode",children:"äºŒç»´ç "})}),e.jsx("li",{children:e.jsx(K,{to:"/qrcode/batch",children:"äºŒç»´ç æ‰¹é‡ç”Ÿæˆ"})}),e.jsx("li",{children:e.jsx(K,{to:"/support",children:"æ”¯æŒ"})})]})})]}),e.jsxs("main",{className:"content",children:[h&&e.jsxs("div",{className:"electron-info",children:["è¿è¡Œäº Electron ",h.version," (",h.platform,")"]}),e.jsxs(Te,{children:[e.jsx(J,{path:"/",element:e.jsx(es,{})}),e.jsx(J,{path:"/pdf",element:e.jsx(is,{})}),e.jsx(J,{path:"/image",element:e.jsx(ls,{})}),e.jsx(J,{path:"/qrcode",element:e.jsx(ds,{})}),e.jsx(J,{path:"/qrcode/batch",element:e.jsx(ps,{})}),e.jsx(J,{path:"/support",element:e.jsx(fs,{})}),e.jsx(J,{path:"*",element:e.jsxs("div",{className:"placeholder-page",children:[e.jsx("h2",{children:"é¡µé¢ä¸å­˜åœ¨"}),e.jsxs("p",{children:["å½“å‰è·¯å¾„: ",f.pathname]}),e.jsx("p",{children:"è¯·ä»ä¸Šæ–¹èœå•é€‰æ‹©é¡µé¢"})]})})]})]}),e.jsx("footer",{className:"footer",children:e.jsxs("p",{children:["å·¥å…·ç®±åº”ç”¨ Â© ",new Date().getFullYear()]})})]}):e.jsxs("div",{className:"loading-screen",children:[e.jsx("h2",{children:"åº”ç”¨åŠ è½½ä¸­..."}),c&&e.jsx("p",{className:"error-message",children:c})]})};console.log("main.tsx æ–‡ä»¶è¢«æ‰§è¡Œ");class js extends ye.Component{constructor(s){super(s),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,h){console.error("React æ¸²æŸ“é”™è¯¯:",s,h)}render(){return this.state.hasError?e.jsx("div",{style:{padding:"20px",color:"red"},children:"åº”ç”¨åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯ã€‚"}):this.props.children}}try{const g=document.getElementById("root");if(!g)throw new Error("æ‰¾ä¸åˆ° root å…ƒç´ ");console.log("æ‰¾åˆ° root å…ƒç´ ï¼Œå¼€å§‹æ¸²æŸ“ React"),xe.createRoot(g).render(e.jsx(ye.StrictMode,{children:e.jsx(js,{children:e.jsx(Ae,{children:e.jsx(gs,{})})})})),console.log("React æ¸²æŸ“å®Œæˆ")}catch(g){console.error("React åˆå§‹åŒ–é”™è¯¯:",g)}
